(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},106:function(e,t,a){},117:function(e,t){},119:function(e,t){},152:function(e,t){},153:function(e,t){},205:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"model",function(){return r}),a.d(n,"loadPredictionSuccess",function(){return O}),a.d(n,"predict",function(){return j}),a.d(n,"init",function(){return F});var r,o=a(3),i=a.n(o),s=a(41),c=a.n(s),l=(a(104),a(14)),u=a(15),h=a(17),p=a(16),d=a(18),b=(a(106),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Hello World!"))}}]),t}(o.Component)),f=a(9),v=a(24),g=a(10),m=a.n(g),k=a(25),w="PREDICTION_SUCCESS",y=a(26),_={0:"line",1:"bucket",2:"bus",3:"cello",4:"ocean",5:"truck",6:"camouflage",7:"harp",8:"telephone",9:"stairs",10:"star",11:"guitar",12:"sandwich",13:"sun",14:"feather",15:"leaf",16:"toilet",17:"strawberry",18:"waterslide",19:"bottlecap",20:"coffee_cup",21:"banana",22:"dresser",23:"house_plant",24:"skateboard",25:"skyscraper",26:"pizza",27:"hammer",28:"teapot",29:"giraffe",30:"underwear",31:"snowman",32:"monkey",33:"computer",34:"pencil",35:"shovel",36:"necklace",37:"compass",38:"bat",39:"bicycle",40:"teddy-bear",41:"scorpion",42:"hot_dog",43:"fish",44:"see_saw",45:"rain",46:"snail",47:"sink",48:"belt",49:"speedboat",50:"pants",51:"trombone",52:"crocodile",53:"broccoli",54:"hedgehog",55:"rainbow",56:"fork",57:"bulldozer",58:"sock",59:"snake",60:"paper_clip",61:"bear",62:"marker",63:"birthday_cake",64:"saxophone",65:"rake",66:"stethoscope",67:"broom",68:"crown",69:"square",70:"fire_hydrant",71:"jail",72:"donut",73:"oven",74:"beard",75:"yoga",76:"The_Eiffel_Tower",77:"camera",78:"purse",79:"ice_cream",80:"pig",81:"trumpet",82:"table",83:"bush",84:"rollerskates",85:"goatee",86:"cup",87:"anvil",88:"suitcase",89:"chair",90:"drill",91:"peanut",92:"squirrel",93:"matches",94:"sword",95:"cat",96:"toe",97:"snorkel",98:"pond",99:"calculator",100:"airplane",101:"squiggle",102:"blackberry",103:"ear",104:"frying_pan",105:"chandelier",106:"lollipop",107:"binoculars",108:"garden",109:"basket",110:"penguin",111:"washing_machine",112:"canoe",113:"screwdriver",114:"beach",115:"eyeglasses",116:"mouse",117:"apple",118:"van",119:"grapes",120:"grass",121:"watermelon",122:"floor_lamp",123:"moon",124:"zigzag",125:"nail",126:"leg",127:"smiley_face",128:"octagon",129:"dumbbell",130:"sweater",131:"stitches",132:"tractor",133:"foot",134:"helmet",135:"basketball",136:"crab",137:"clock",138:"diamond",139:"car",140:"axe",141:"traffic_light",142:"sleeping_bag",143:"baseball",144:"eye",145:"flower",146:"hot_air_balloon",147:"tree",148:"wine_bottle",149:"hot_tub",150:"peas",151:"door",152:"calendar",153:"wine_glass",154:"stove",155:"hockey_stick",156:"toothpaste",157:"moustache",158:"mountain",159:"tooth",160:"cannon",161:"firetruck",162:"shorts",163:"stereo",164:"cloud",165:"paintbrush",166:"pear",167:"dishwasher",168:"laptop",169:"frog",170:"vase",171:"diving_board",172:"backpack",173:"lobster",174:"golf_club",175:"garden_hose",176:"hexagon",177:"bird",178:"finger",179:"animal_migration",180:"steak",181:"mailbox",182:"shark",183:"television",184:"mermaid",185:"cow",186:"crayon",187:"palm_tree",188:"windmill",189:"cookie",190:"kangaroo",191:"blueberry",192:"tiger",193:"tennis_racquet",194:"dragon",195:"cell_phone",196:"pineapple",197:"candle",198:"sheep",199:"cactus",200:"angel",201:"mosquito",202:"church",203:"couch",204:"The_Great_Wall_of_China",205:"tornado",206:"jacket",207:"nose",208:"octopus",209:"motorbike",210:"bracelet",211:"brain",212:"The_Mona_Lisa",213:"toothbrush",214:"carrot",215:"barn",216:"microphone",217:"zebra",218:"map",219:"camel",220:"wheel",221:"bridge",222:"lighthouse",223:"spreadsheet",224:"hockey_puck",225:"wristwatch",226:"helicopter",227:"swan",228:"flamingo",229:"eraser",230:"bee",231:"flashlight",232:"megaphone",233:"ladder",234:"shoe",235:"asparagus",236:"t-shirt",237:"passport",238:"hand",239:"triangle",240:"lightning",241:"mug",242:"submarine",243:"violin",244:"owl",245:"scissors",246:"baseball_bat",247:"string_bean",248:"lantern",249:"house",250:"elbow",251:"power_outlet",252:"stop_sign",253:"bed",254:"school_bus",255:"hamburger",256:"lipstick",257:"light_bulb",258:"flip_flops",259:"alarm_clock",260:"ant",261:"face",262:"microwave",263:"hourglass",264:"panda",265:"pool",266:"circle",267:"onion",268:"raccoon",269:"bowtie",270:"umbrella",271:"butterfly",272:"fireplace",273:"skull",274:"train",275:"mouth",276:"hat",277:"drums",278:"book",279:"radio",280:"roller_coaster",281:"snowflake",282:"piano",283:"rhinoceros",284:"cake",285:"toaster",286:"paint_can",287:"knee",288:"spider",289:"tent",290:"rabbit",291:"clarinet",292:"whale",293:"boomerang",294:"hospital",295:"ceiling_fan",296:"saw",297:"pillow",298:"fence",299:"dog",300:"duck",301:"parrot",302:"swing_set",303:"spoon",304:"fan",305:"cruise_ship",306:"picture_frame",307:"mushroom",308:"headphones",309:"horse",310:"flying_saucer",311:"lion",312:"postcard",313:"bench",314:"keyboard",315:"parachute",316:"streetlight",317:"arm",318:"police_car",319:"sailboat",320:"cooler",321:"bathtub",322:"campfire",323:"hurricane",324:"soccer_ball",325:"potato",326:"dolphin",327:"key",328:"elephant",329:"sea_turtle",330:"popsicle",331:"envelope",332:"pickup_truck",333:"remote_control",334:"ambulance",335:"pliers",336:"bread",337:"castle",338:"river",339:"bandage"};function O(e){return{type:w,prediction:e}}var j=function(e,t,a){return function(){var n=Object(k.a)(m.a.mark(function n(o){var i,s,c,l,u;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=r){n.next=2;break}return n.abrupt("return","model could not be loaded");case 2:i=y.d(function(){var n=C(e,t,a);return n=y.c(n,[t,a,1]),n=y.a.resizeBilinear(n,[32,32]),n=y.c(n,[1,32,32,1])}),s=r.predict(i),c=s.as1D(),l=c.argMax().dataSync()[0],u=c.dataSync()[l],u=Math.round(1e4*u)/1e4,c.dispose(),o(O(_[l]+", Score: "+u));case 10:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()};function C(e,t,a){var n=new Array(t).fill(0).map(function(e){return new Array(a).fill(0)});return e.forEach(function(e){if(e.length>0)for(var t=e[0],a=null,r=1;r<e.length;r++)a=e[r],n[t[0]][t[1]]=255,n[a[0]][a[1]]=255,t=a}),n}function x(e){return S.apply(this,arguments)}function S(){return(S=Object(k.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:return a=e.sent,e.abrupt("return",a.ok);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}function M(e){return T.apply(this,arguments)}function T(){return(T=Object(k.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.b(t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}function E(e){return D.apply(this,arguments)}function D(){return(D=Object(k.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",M(t));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var F=function(){return function(){var e=Object(k.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("https://raw.githubusercontent.com/smd-faizan/razorback/development/savedModels/jsModels/model.json");case 2:r=e.sent,t(O("Model is loaded"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},X=a(38),Y=a.n(X),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e)))._strokes=[],a._points=[],a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=c.a.findDOMNode(this);e.style.width="100%",e.style.height="100%",e.width=e.offsetWidth,e.height=600;var t=e.getContext("2d");this.setState({canvas:e,context:t})}},{key:"componentWillReceiveProps",value:function(e){e.clear&&(this.resetCanvas(),this._strokes=[],this._points=[])}},{key:"handleOnTouchStart",value:function(e){var t=this.state.canvas.getBoundingClientRect();this.state.context.beginPath(),this._points=[[e.targetTouches[0].pageX-t.left,e.targetTouches[0].pageY-t.top]],this.setState({lastX:e.targetTouches[0].pageX-t.left,lastY:e.targetTouches[0].pageY-t.top,drawing:!0})}},{key:"handleOnMouseDown",value:function(e){var t=this.state.canvas.getBoundingClientRect();this.state.context.beginPath(),this._points=[[e.clientX-t.left,e.clientY-t.top]],this.setState({lastX:e.clientX-t.left,lastY:e.clientY-t.top,drawing:!0})}},{key:"handleOnTouchMove",value:function(e){if(this.state.drawing){var t=this.state.canvas.getBoundingClientRect(),a=this.state.lastX,n=this.state.lastY,r=e.targetTouches[0].pageX-t.left,o=e.targetTouches[0].pageY-t.top;this.draw(a,n,r,o),this.setState({lastX:r,lastY:o})}}},{key:"handleOnMouseMove",value:function(e){if(this.state.drawing){var t=this.state.canvas.getBoundingClientRect(),a=this.state.lastX,n=this.state.lastY,r=e.clientX-t.left,o=e.clientY-t.top;this.draw(a,n,r,o),this.setState({lastX:r,lastY:o})}}},{key:"handleonMouseUp",value:function(){this._strokes.push(this._points),this.setState({drawing:!1}),this.props.actions.predict(this._strokes,this.state.canvas.width,this.state.canvas.height)}},{key:"draw",value:function(e,t,a,n){this._points.push([a,n]);var r=this.state.context;r.strokeStyle=this.props.brushColor,r.lineWidth=this.props.lineWidth,this.setState({context:r}),this.state.context.moveTo(e,t),this.state.context.lineTo(a,n),this.state.context.stroke()}},{key:"resetCanvas",value:function(){var e=this.state.context.canvas.width,t=this.state.context.canvas.height;this.state.context.clearRect(0,0,e,t)}},{key:"canvasStyle",value:function(){var e=t.getDefaultStyle(),a=this.props.canvasStyle;return Y()({},e,a)}},{key:"render",value:function(){return i.a.createElement("canvas",{style:this.canvasStyle(),onMouseDown:this.handleOnMouseDown.bind(this),onTouchStart:this.handleOnTouchStart.bind(this),onMouseMove:this.handleOnMouseMove.bind(this),onTouchMove:this.handleOnTouchMove.bind(this),onMouseUp:this.handleonMouseUp.bind(this),onTouchEnd:this.handleonMouseUp.bind(this)})}}],[{key:"getDefaultStyle",value:function(){return{brushColor:"#FFFF00",lineWidth:4,cursor:"pointer",canvasStyle:{backgroundColor:"#00FFDC"},clear:!1}}}]),t}(i.a.Component);var B=Object(v.b)(function(e,t){return{}},function(e){return{actions:Object(f.bindActionCreators)(n,e)}})(W),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={brushColor:"#000000",lineWidth:3,canvasStyle:{backgroundColor:"#FFFFFF",borderColor:"#786B6B",borderStyle:"solid"},clear:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.init()}},{key:"handleOnClickClear",value:function(){var e=this;this.setState({clear:!0},function(){e.setState({clear:!1})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h1",null,"Board"),i.a.createElement("label",null,"Predicted class: ",this.props.prediction),i.a.createElement("button",{className:"ui button yellow",onClick:function(){return e.handleOnClickClear()}},"Clear"),i.a.createElement(B,this.state))}}]),t}(i.a.Component);var R=Object(v.b)(function(e,t){return{prediction:e.prediction}},function(e){return{actions:Object(f.bindActionCreators)(n,e)}})(z),A=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(b,null),i.a.createElement(R,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(200);var P={prediction:"Loading model... , please wait"};var q=Object(f.combineReducers)({prediction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P.prediction,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.prediction;default:return e}}}),U=a(96),N=a.n(U),I=a(97),H=a(98);var J,L=Object(f.createStore)(q,J,Object(H.composeWithDevTools)(Object(f.applyMiddleware)(I.a,N()())));c.a.render(i.a.createElement(v.a,{store:L},i.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,a){e.exports=a(205)}},[[99,2,1]]]);
//# sourceMappingURL=main.2e9e41ee.chunk.js.map