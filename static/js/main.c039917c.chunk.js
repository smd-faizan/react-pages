(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,a){t.exports=a(217)},110:function(t,e,a){},112:function(t,e,a){},123:function(t,e){},125:function(t,e){},158:function(t,e){},159:function(t,e){},217:function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"model",function(){return r}),a.d(n,"loadPredictionSuccess",function(){return O}),a.d(n,"predict",function(){return X}),a.d(n,"init",function(){return F});var r,o=a(1),i=a.n(o),s=a(32),c=a.n(s),l=(a(110),a(19)),h=a(20),u=a(24),p=a(21),d=a(23),b=a(33),m=(a(112),function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Draw anything!"))}),f=a(9),g=a(22),v=a(10),k=a.n(v),w=a(25),y="PREDICTION_SUCCESS",x=a(44),M=(a(206),{0:"airplane",1:"alarm clock",2:"ambulance",3:"angel",4:"animal migration",5:"ant",6:"anvil",7:"apple",8:"arm",9:"asparagus",10:"axe",11:"backpack",12:"banana",13:"bandage",14:"barn",15:"baseball",16:"baseball bat",17:"basket",18:"basketball",19:"bat",20:"bathtub",21:"beach",22:"bear",23:"beard",24:"bed",25:"bee",26:"belt",27:"bench",28:"bicycle",29:"binoculars",30:"bird",31:"birthday cake",32:"blackberry",33:"blueberry",34:"book",35:"boomerang",36:"bottlecap",37:"bowtie",38:"bracelet",39:"brain",40:"bread",41:"bridge",42:"broccoli",43:"broom",44:"bucket",45:"bulldozer",46:"bus",47:"bush",48:"butterfly",49:"cactus",50:"cake",51:"calculator",52:"calendar",53:"camel",54:"camera",55:"camouflage",56:"campfire",57:"candle",58:"cannon",59:"canoe",60:"car",61:"carrot",62:"castle",63:"cat",64:"ceiling fan",65:"cell phone",66:"cello",67:"chair",68:"chandelier",69:"church",70:"circle",71:"clarinet",72:"clock",73:"cloud",74:"coffee cup",75:"compass",76:"computer",77:"cookie",78:"cooler",79:"couch",80:"cow",81:"crab",82:"crayon",83:"crocodile",84:"crown",85:"cruise ship",86:"cup",87:"diamond",88:"dishwasher",89:"diving board",90:"dog",91:"dolphin",92:"donut",93:"door",94:"dragon",95:"dresser",96:"drill",97:"drums",98:"duck",99:"dumbbell",100:"ear",101:"elbow",102:"elephant",103:"envelope",104:"eraser",105:"eye",106:"eyeglasses",107:"face",108:"fan",109:"feather",110:"fence",111:"finger",112:"fire hydrant",113:"fireplace",114:"firetruck",115:"fish",116:"flamingo",117:"flashlight",118:"flip flops",119:"floor lamp",120:"flower",121:"flying saucer",122:"foot",123:"fork",124:"frog",125:"frying pan",126:"garden",127:"garden hose",128:"giraffe",129:"goatee",130:"golf club",131:"grapes",132:"grass",133:"guitar",134:"hamburger",135:"hammer",136:"hand",137:"harp",138:"hat",139:"headphones",140:"hedgehog",141:"helicopter",142:"helmet",143:"hexagon",144:"hockey puck",145:"hockey stick",146:"horse",147:"hospital",148:"hot air balloon",149:"hot dog",150:"hot tub",151:"hourglass",152:"house",153:"house plant",154:"hurricane",155:"ice cream",156:"jacket",157:"jail",158:"kangaroo",159:"key",160:"keyboard",161:"knee",162:"ladder",163:"lantern",164:"laptop",165:"leaf",166:"leg",167:"light bulb",168:"lighthouse",169:"lightning",170:"line",171:"lineCount",172:"lion",173:"lipstick",174:"lobster",175:"lollipop",176:"mailbox",177:"map",178:"marker",179:"matches",180:"megaphone",181:"mermaid",182:"microphone",183:"microwave",184:"monkey",185:"moon",186:"mosquito",187:"motorbike",188:"mountain",189:"mouse",190:"moustache",191:"mouth",192:"mug",193:"mushroom",194:"nail",195:"necklace",196:"nose",197:"ocean",198:"octagon",199:"octopus",200:"onion",201:"oven",202:"owl",203:"paint can",204:"paintbrush",205:"palm tree",206:"panda",207:"pants",208:"paper clip",209:"parachute",210:"parrot",211:"passport",212:"peanut",213:"pear",214:"peas",215:"pencil",216:"penguin",217:"piano",218:"pickup truck",219:"picture frame",220:"pig",221:"pillow",222:"pineapple",223:"pizza",224:"pliers",225:"police car",226:"pond",227:"pool",228:"popsicle",229:"postcard",230:"potato",231:"power outlet",232:"purse",233:"rabbit",234:"raccoon",235:"radio",236:"rain",237:"rainbow",238:"rake",239:"remote control",240:"rhinoceros",241:"river",242:"roller coaster",243:"rollerskates",244:"sailboat",245:"sandwich",246:"saw",247:"saxophone",248:"school bus",249:"scissors",250:"scorpion",251:"screwdriver",252:"sea turtle",253:"see saw",254:"shark",255:"sheep",256:"shoe",257:"shorts",258:"shovel",259:"sink",260:"skateboard",261:"skull",262:"skyscraper",263:"sleeping bag",264:"smiley face",265:"snail",266:"snake",267:"snorkel",268:"snowflake",269:"snowman",270:"soccer ball",271:"sock",272:"speedboat",273:"spider",274:"spoon",275:"spreadsheet",276:"square",277:"squiggle",278:"squirrel",279:"stairs",280:"star",281:"steak",282:"stereo",283:"stethoscope",284:"stitches",285:"stop sign",286:"stove",287:"strawberry",288:"streetlight",289:"string bean",290:"submarine",291:"suitcase",292:"sun",293:"swan",294:"sweater",295:"swing set",296:"sword",297:"t-shirt",298:"table",299:"teapot",300:"teddy-bear",301:"telephone",302:"television",303:"tennis racquet",304:"tent",305:"The Eiffel Tower",306:"The Great Wall of China",307:"The Mona Lisa",308:"tiger",309:"toaster",310:"toe",311:"toilet",312:"tooth",313:"toothbrush",314:"toothpaste",315:"tornado",316:"tractor",317:"traffic light",318:"train",319:"tree",320:"triangle",321:"trombone",322:"truck",323:"trumpet",324:"umbrella",325:"underwear",326:"van",327:"vase",328:"violin",329:"washing machine",330:"watermelon",331:"waterslide",332:"whale",333:"wheel",334:"windmill",335:"wine bottle",336:"wine glass",337:"wristwatch",338:"yoga",339:"zebra",340:"zigzag"});function O(t){return{type:y,prediction:t}}var X=function(t,e,a,n){return function(){var t=Object(w.a)(k.a.mark(function t(e){var a,o,i,s,c,l;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=r){t.next=2;break}return t.abrupt("return",e(O("model could not be loaded")));case 2:64,a=x.c(function(){n.width,n.height;var t=x.a(n,4);return t=(t=(t=(t=(t=(t=(t=(t=t.resizeNearestNeighbor([64,64])).mean(2)).toFloat()).expandDims(2)).expandDims()).toFloat()).div(31.875)).sub(1)}),o=r.predict(a),i=o.as1D(),s=j(i.dataSync()),c=i.dataSync()[s[0]],c=Math.round(1e4*c)/1e4,i.dispose(),l="Predicted class: "+M[s[0]]+", Score: "+c,e(O(l));case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},j=function(t){var e,a,n,r;a=-9999,n=-9999,r=-9999;var o=-1,i=-1,s=-1;for(e=0;e<t.length;e+=1){var c=t[e];c>r&&(c>=n?(r=n,c>=a?(n=a,a=c,o=e):(n=c,i=e)):(r=c,s=e))}return[o,i,s]};function Y(t){return S.apply(this,arguments)}function S(){return(S=Object(w.a)(k.a.mark(function t(e){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"HEAD"});case 3:return a=t.sent,t.abrupt("return",a.ok);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))).apply(this,arguments)}function C(t){return T.apply(this,arguments)}function T(){return(T=Object(w.a)(k.a.mark(function t(e){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.b(e);case 3:return a=t.sent,t.abrupt("return",a);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}))).apply(this,arguments)}function E(t){return D.apply(this,arguments)}function D(){return(D=Object(w.a)(k.a.mark(function t(e){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e);case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",C(e));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var F=function(){return function(){var t=Object(w.a)(k.a.mark(function t(e){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("https://raw.githubusercontent.com/smd-faizan/razorback/development/drawAnything/savedModels/jsModels2/model.json");case 2:r=t.sent,e(O("Model is loaded"));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},_=a(41),U=a.n(_),W=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(p.a)(e).call(this,t)))._strokes=[],a._points=[],a.minX=Number.MAX_VALUE,a.minY=Number.MAX_VALUE,a.maxX=0,a.maxY=0,a}return Object(d.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=c.a.findDOMNode(this);t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=window.innerHeight-100;var e=t.getContext("2d");this.setState({canvas:t,context:e})}},{key:"componentWillReceiveProps",value:function(t){t.clear&&(this.resetCanvas(),this._strokes=[],this._points=[])}},{key:"handleOnTouchStart",value:function(t){var e=this.state.canvas.getBoundingClientRect();this.state.context.beginPath(),this._points=[[t.targetTouches[0].pageX-e.left,t.targetTouches[0].pageY-e.top]],this.setState({lastX:t.targetTouches[0].pageX-e.left,lastY:t.targetTouches[0].pageY-e.top,drawing:!0}),this.minX=Math.min(this.minX,t.targetTouches[0].pageX-e.left),this.minY=Math.min(this.minY,t.targetTouches[0].pageY-e.top),this.maxX=Math.max(this.maxX,t.targetTouches[0].pageX-e.left),this.maxY=Math.max(this.maxY,t.targetTouches[0].pageY-e.top)}},{key:"handleOnMouseDown",value:function(t){var e=this.state.canvas.getBoundingClientRect();this.state.context.beginPath(),this._points=[[t.clientX-e.left,t.clientY-e.top]],this.setState({lastX:t.clientX-e.left,lastY:t.clientY-e.top,drawing:!0}),this.minX=Math.min(this.minX,t.clientX-e.left),this.minY=Math.min(this.minY,t.clientY-e.top),this.maxX=Math.max(this.maxX,t.clientX-e.left),this.maxY=Math.max(this.maxY,t.clientY-e.top)}},{key:"handleOnTouchMove",value:function(t){if(this.state.drawing){var e=this.state.canvas.getBoundingClientRect(),a=this.state.lastX,n=this.state.lastY,r=t.targetTouches[0].pageX-e.left,o=t.targetTouches[0].pageY-e.top;this.draw(a,n,r,o),this.setState({lastX:r,lastY:o})}}},{key:"handleOnMouseMove",value:function(t){if(this.state.drawing){var e=this.state.canvas.getBoundingClientRect(),a=this.state.lastX,n=this.state.lastY,r=t.clientX-e.left,o=t.clientY-e.top;this.draw(a,n,r,o),this.setState({lastX:r,lastY:o})}}},{key:"handleonMouseUp",value:function(){this._strokes.push(this._points),this.setState({drawing:!1});var t=this.maxX-this.minX,e=this.maxY-this.minY,a=t>e?t:e,n=this.state.context.getImageData(Math.round(this.minX),Math.round(this.minY),Math.round(a),Math.round(a));this.props.actions.predict(this._strokes,this.state.canvas.width,this.state.canvas.height,n)}},{key:"draw",value:function(t,e,a,n){this._points.push([a,n]),this.minX=Math.min(this.minX,a),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,a),this.maxY=Math.max(this.maxY,n);var r=this.state.context;r.strokeStyle=this.props.brushColor,r.lineWidth=this.props.lineWidth,this.setState({context:r}),this.state.context.moveTo(t,e),this.state.context.lineTo(a,n),this.state.context.stroke()}},{key:"resetCanvas",value:function(){var t=this.state.context.canvas.width,e=this.state.context.canvas.height;this.state.context.clearRect(0,0,t,e)}},{key:"canvasStyle",value:function(){var t=e.getDefaultStyle(),a=this.props.canvasStyle;return U()({},t,a)}},{key:"render",value:function(){return i.a.createElement("canvas",{style:this.canvasStyle(),onMouseDown:this.handleOnMouseDown.bind(this),onTouchStart:this.handleOnTouchStart.bind(this),onMouseMove:this.handleOnMouseMove.bind(this),onTouchMove:this.handleOnTouchMove.bind(this),onMouseUp:this.handleonMouseUp.bind(this),onTouchEnd:this.handleonMouseUp.bind(this)})}}],[{key:"getDefaultStyle",value:function(){return{brushColor:"#FFFF00",lineWidth:8,cursor:"pointer",canvasStyle:{backgroundColor:"#00FFDC"},clear:!1}}}]),e}(i.a.Component);var z=Object(g.b)(function(t,e){return{}},function(t){return{actions:Object(f.bindActionCreators)(n,t)}})(W),A=a(100),B=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(p.a)(e).call(this,t))).state={brushColor:"#000000",lineWidth:8,canvasStyle:{backgroundColor:"#FFFFFF",borderColor:"#786B6B",borderStyle:"solid"},clear:!1},a}return Object(d.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.props.actions.init()}},{key:"handleOnClickClear",value:function(){var t=this;this.setState({clear:!0},function(){t.setState({clear:!1})}),this.props.actions.loadPredictionSuccess("Model is loaded")}},{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("label",null,this.props.prediction)," ",i.a.createElement("button",{className:"ui button yellow",onClick:function(){return t.handleOnClickClear()}},"Clear"),i.a.createElement("br",null),i.a.createElement(A.TouchScrollable,null,i.a.createElement(z,this.state)))}}]),e}(i.a.Component);var N=Object(g.b)(function(t,e){return{prediction:t.prediction}},function(t){return{actions:Object(f.bindActionCreators)(n,t)}})(B),R=a(101),P=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(p.a)(e).call(this,t))).onUnload=a.onUnload.bind(Object(b.a)(Object(b.a)(a))),a}return Object(d.a)(e,t),Object(h.a)(e,[{key:"onUnload",value:function(t){t.returnValue="Your work will be lost."}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onUnload)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m,null),i.a.createElement(N,null),i.a.createElement(R.a,{bottomThreshold:10,normalStyles:{backgroundColor:"#999999",padding:"0.1rem"},stickyStyles:{backgroundColor:"rgba(255,255,255,.8)",padding:"0.1rem"}}," v1.3.0 source: ",i.a.createElement("a",{href:"https://quickdraw.withgoogle.com/"},"Qucik Draw!")))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(212);var q={prediction:"Loading model... , please wait"};var L=Object(f.combineReducers)({prediction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.prediction,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return e.prediction;default:return t}}}),I=a(102),V=a.n(I),H=a(103),J=a(104);var G,Q=Object(f.createStore)(L,G,Object(J.composeWithDevTools)(Object(f.applyMiddleware)(H.a,V()())));c.a.render(i.a.createElement(g.a,{store:Q},i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[105,2,1]]]);
//# sourceMappingURL=main.c039917c.chunk.js.map